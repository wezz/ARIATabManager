/*!
 * 
 *   @wezz/ariatabmanager v0.0.2
 *   https://github.com/wezz/ARIATabManager
 *
 *   Copyright (c) Wezz Balk (https://github.com/wezz)
 *
 *   This source code is licensed under the MIT license found in the
 *   LICENSE file in the root directory of this source tree.
 *
 */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.ariatabmanager=e():t.ariatabmanager=e()}(self,(function(){return(()=>{var t={294:t=>{
/*!
 * 
 *   @wezz/ariamanager v0.0.5
 *   https://github.com/wezz/ARIAManager
 *
 *   Copyright (c) Wezz Balk (https://github.com/wezz)
 *
 *   This source code is licensed under the MIT license found in the
 *   LICENSE file in the root directory of this source tree.
 *
 */
self,t.exports=(()=>{"use strict";var t={283:(t,e)=>{var n=function(){function t(t){var e=this;void 0===t&&(t=document),this.controlelements=[],this.controlselector="[aria-controls]:not([data-ariamanager-ignore])",this.delayAttribute="data-ariamanager-delay",this.InitiateElements(t),window.addEventListener("global-markupchange",(function(t){var n,r,a;e.InitiateElements(null!==(a=null===(r=null===(n=t)||void 0===n?void 0:n.detail)||void 0===r?void 0:r.target)&&void 0!==a?a:document)}))}return t.prototype.InitiateElements=function(t){var e=this;void 0===t&&(t=document);var n=[].slice.call(t.querySelectorAll(this.controlselector)).filter((function(t){return"activated"!==t.dataset.ariamanager}));n.forEach((function(t){e.bindEvents(t),t.dataset.ariamanager="activated"})),this.controlelements=[].concat(this.controlelements,n)},t.prototype.AriaExpand=function(t,e){t&&(this.bindEventsToTargetElements(t),t.dispatchEvent(this.customEvent("set-aria-expanded",{target:t,value:e})))},t.prototype.AriaHidden=function(t,e){t&&(this.bindEventsToTargetElements(t),t.dispatchEvent(this.customEvent("set-aria-hidden",{target:t,value:e})))},t.prototype.GetARIAControllerFromTarget=function(t){var e=t.getAttribute("id")+"";return e?this.controlelements.filter((function(t){return-1!==(t.getAttribute("aria-controls")+"").indexOf(e)})):[]},t.prototype.GetARIAControlTargets=function(t){var e=(t.getAttribute("aria-controls")+"").split(" "),n=[],r=function(t,e){return 0===t.indexOf(e)};return e.forEach((function(t){t=(r(t,"#")||r(t,".")?"":"#")+t;var e=document.querySelector(t);e&&n.push(e)})),n},t.prototype.onButtonClick=function(t){var e=this,n=this.getDelayValue(t);t.dispatchEvent(this.customEvent("beforeClick",{delay:n,elm:t})),window.setTimeout((function(){t.dispatchEvent(e.customEvent("adjustTargetStates",{elm:t}))}),n)},t.prototype.bindEvents=function(t){var e=this,n=t;this.bindEventsToControlElements(n),this.GetARIAControlTargets(n).forEach((function(t){e.bindEventsToTargetElements(t)}))},t.prototype.bindEventsToTargetElements=function(t){"true"!==t.dataset.ariamanager_eventbindings&&(t.addEventListener("set-aria-hidden",this.setAriaHidden.bind(this)),t.addEventListener("set-aria-expanded",this.setAriaExpanded.bind(this)),t.dataset.ariamanager_eventbindings="true")},t.prototype.bindEventsToControlElements=function(t){t.addEventListener("click",this.onButtonClick.bind(this,t)),t.addEventListener("beforeClick",this.beforeClickEvent.bind(this,t)),t.addEventListener("adjustTargetStates",this.adjustTargetStates.bind(this,t)),t.addEventListener("updateButtonState",this.updateButtonState.bind(this,t))},t.prototype.updateButtonState=function(t,e){var n,r,a=(r="aria-hidden",(n=e.detail.target).hasAttribute(r)?n.getAttribute(r):null);t.hasAttribute("aria-pressed")&&t.setAttribute("aria-pressed",("false"===a)+""),t.hasAttribute("aria-expanded")&&t.setAttribute("aria-expanded",("false"===a)+"")},t.prototype.setAriaHidden=function(t){var e=this,n=t.detail.target,r=t.detail.value,a=this.GetARIAControllerFromTarget(n);n.setAttribute("aria-hidden",r),n.dispatchEvent(this.customEvent("aria-hidden-change",{target:n,value:r})),a.forEach((function(t){t.dispatchEvent(e.customEvent("updateButtonState",{target:n}))}))},t.prototype.setAriaExpanded=function(t){var e=this,n=t.detail.target,r=t.detail.value,a=this.GetARIAControllerFromTarget(n);n.hasAttribute("data-aria-expanded")&&n.setAttribute("data-aria-expanded",r+""),n.dispatchEvent(this.customEvent("aria-expanded-change",{target:n,value:r})),a.forEach((function(t){t.dispatchEvent(e.customEvent("updateButtonState",{target:n}))}))},t.prototype.beforeClickEvent=function(t,e){},t.prototype.adjustTargetStates=function(t,e){var n=this;this.GetARIAControlTargets(t).forEach((function(e){if(e.hasAttribute("aria-hidden")){var r="true"===e.getAttribute("aria-hidden");n.AriaHidden(e,!r)}(t.hasAttribute("aria-expanded")||e.hasAttribute("data-aria-expanded"))&&(r="true"===e.getAttribute("aria-hidden"),n.AriaExpand(e,!r))}))},t.prototype.getDelayValue=function(t){var e=0,n=t.getAttribute(this.delayAttribute);if("string"==typeof n&&n.length>0){var r=parseInt(n,10);isNaN(r)||(e=r)}return e},t.prototype.customEvent=function(t,e){return new CustomEvent(t,{detail:e})},t}();e.Z=n},138:(t,e,n)=>{n.r(e),n.d(e,{default:()=>r});const r=n(283).Z}},e={};function n(r){if(e[r])return e[r].exports;var a=e[r]={exports:{}};return t[r](a,a.exports,n),a.exports}return n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n(138)})()},805:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(a,i){function o(t){try{u(r.next(t))}catch(t){i(t)}}function s(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?a(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,s)}u((r=r.apply(t,e||[])).next())}))},a=this&&this.__generator||function(t,e){var n,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=e.call(t,o)}catch(t){i=[6,t],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};Object.defineProperty(e,"__esModule",{value:!0});var i=new(n(294).default),o=function(){function t(){}return t.AllowNone="allownone",t.Default="",t}(),s=function(){function t(){this.controlelements=[],this.controlselector="[data-tab-container]",this.contentselector="[data-tab-content]",this.contentcontainerselector="[data-tab-contentcontainer]",this.buttonselector="[data-tab-button]",this.tabmodeattributename="data-tab-selection-mode",this.defaultDelay=0,this.InitiateElements(),this.checkPageHash()}return t.prototype.InitiateElements=function(){var t=[].slice.call(document.querySelectorAll(this.controlselector));console.log("controlElements",t);var e=t.filter((function(t){return"activated"!==t.dataset.tabmanager}));e.forEach(this.initiateElement.bind(this)),e.forEach((function(t){return t.dataset.tabmanager="activated"})),this.controlelements=[].concat(this.controlelements,e)},t.prototype.initiateElement=function(t){var e=this;this.setDefaultDelay(t),"true"===t.getAttribute("data-tab-setheight")&&(this.setContentHeight(t),window.setInterval((function(){e.setContentHeight(t)}),1e3)),this.bindEvents(t)},t.prototype.setDefaultDelay=function(t){var e=t.getAttribute(this.controlselector),n=this.defaultDelay;if("string"==typeof e&&e.length>0){var r=parseInt(e,10);isNaN(r)||(n=r)}t.dataset.tabanimationdelay=n+""},t.prototype.bindEvents=function(t){var e=this,n=t,r=this.getButtons(n);this.getTargets(n);r.forEach((function(t){t.addEventListener("beforeClick",e.onBeforeClick.bind(e,n,t))}))},t.prototype.onBeforeClick=function(t,e,n){return r(this,void 0,void 0,(function(){var n,r,s,u;return a(this,(function(a){switch(a.label){case 0:return[4,i.GetARIAControlTargets(e)];case 1:return n=a.sent(),r=t.getAttribute(this.tabmodeattributename),s=n[0].id,console.log("parent",t),u=this.getTargets(t).filter((function(t){return t.id!==s})),console.log("siblings",u),u.forEach((function(t){i.AriaHidden(t,!0),i.AriaExpand(t,!1)})),this.setPageHash(e),this.setContentHeight(t),r===o.AllowNone?[2]:(this.displayTarget(n[0],t),[2])}}))}))},t.prototype.setPageHash=function(t){if(t.hasAttribute("data-tab-href")){var e=t.getAttribute("data-tab-href");if(!e)return;history&&"function"==typeof history.replaceState?history.replaceState({},"",e):window.location.hash=e}},t.prototype.checkPageHash=function(){var t=this,e=(window.location.hash+"").split(",").filter((function(t){return t}));0!==e.length&&e.forEach((function(e){var n=Array.from(document.querySelectorAll('[data-tab-href="'+e+'"]'));n&&n.length>0&&n.forEach((function(e){var n=t.getTabContainer(e);n&&t.onBeforeClick(n,e,null)}))}))},t.prototype.getTabContainer=function(t){for(var e=t.parentNode;!e.matches("body")&&!e.hasAttribute("data-tab-container");)e=e.parentNode;return e.matches("body")&&(e=null),e},t.prototype.displayTarget=function(t,e,n){var r=this;void 0===n&&(n=180),window.setTimeout((function(){var n=r.getTargets(e);n.filter((function(t){return"true"===t.getAttribute("aria-hidden")})).length===n.length&&(i.AriaHidden(t,!1),i.AriaExpand(t,!0))}),n)},t.prototype.getTargets=function(t){return[].slice.call(t.querySelectorAll(this.contentselector))},t.prototype.getButtons=function(t){return[].slice.call(t.querySelectorAll(this.buttonselector))},t.prototype.customEvent=function(t,e){return new CustomEvent(t,{detail:e})},t.prototype.setContentHeight=function(t){var e=t.querySelector(this.contentcontainerselector);if(e&&"true"===t.getAttribute("data-tab-setheight")){var n=this.getTargets(t),r=0;if(n.forEach((function(t){var e=t.getClientRects()[0];e&&e.height>r&&(r=e.height)})),r>0){var a="height:"+r+"px";e.setAttribute("style",a)}}},t}();e.default=s},138:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>a});var r=n(805);const a=n.n(r)()}},e={};function n(r){if(e[r])return e[r].exports;var a=e[r]={exports:{}};return t[r].call(a.exports,a,a.exports,n),a.exports}return n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n(138)})()}));
//# sourceMappingURL=index.js.map